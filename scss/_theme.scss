$flip-clock-window-padding:                 1.5vw;
$flip-clock-segment-gutter:                 2vw;
$flip-clock-window-gutter:                  2vw;
$segment-border-radius:                     1vw;
$flip-clock-border-radius:                  $segment-border-radius + $flip-clock-window-padding;
$segment-horizontal-padding:                2vw;
$segment-horizontal-padding--date:          2vw;
$segment-ampm-position-left:                1vw;
$segment-ampm-position-top:                 20%; /* depends on the font */
$segment-ampm-position-bottom:              17.5%; /* depends on the font */
$background-color:                          #181818;
$segment-background-color:                  #111111;
$segment-foreground-color:                  #ffffff;
$font-family:                               'HelveticaNeue-CondensedBold', 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;
$font-weight:                               normal;
$font-style:                                normal;
$transition-duration:                       300ms;
$rushed-transition-duration:                50ms;
$flip-clock-window-border-width:            2px;
$flip-clock-segment-highlight-width:        2px;

$flip-clock-window-padding--epoch:          1vw;
$flip-clock-segment-gutter--epoch:          1vw;
$flip-clock-window-gutter--epoch:           1vw;
$segment-border-radius--epoch:              1vw;
$segment-horizontal-padding--epoch:         1vw;
$flip-clock-border-radius--epoch:           $segment-border-radius--epoch + $flip-clock-window-padding--epoch;
$flip-clock-window-border-width--epoch:     2px;
$flip-clock-segment-highlight-width--epoch: 2px;

$background-gradient: null;
$segment-background-gradient: null;
$segment-gradient-overlay: null;

$flip-clock-molasses-top-darken:    0.25;

$flip-clock-cylinder-width: 1vw;
$flip-clock-cylinder-height: 2vw;

$bottom-buttons-background-color: #181818;

$background-gradient: linear-gradient(
    to bottom,
    color-multiply($background-color, 1.5),
    color-multiply($background-color, 0.75)
);

/* does not darken text */
$segment-background-gradient: linear-gradient(
    to bottom,
    transparent 0%,
    rgba(black, 0.25) 50%,
    transparent 50%,
    rgba(black, 0.25) 100%
);

/* this darkens text.  experiment tweaking this with segment-background-gradient. */
$segment-gradient-overlay: linear-gradient(
    to bottom,
    transparent 0%,
    rgba(black, 0.25) 50%,
    transparent 50%,
    rgba(black, 0.25) 100%
);

body.flip-clock-page {
    min-height: 100vh;
    overflow: hidden;
    background-image: url('../images/texture.jpg');
    background-repeat: no-repeat;
    background-position: center;
    background-size: cover;
    &::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: linear-gradient(to bottom, transparent, rgba(black, 0.7));
        background-repeat: no-repeat;
        background-position: center;
    }
}

/**
 * Overall styles
 */

.flip-clock {
    font-family: $font-family;
    font-weight: $font-weight;
    font-style: $font-style;
}

/**
 * Overall layout
 */

.flip-clock-line {
    color: $segment-foreground-color;
}

.flip-clock-line + .flip-clock-line {
    margin-top: #{$flip-clock-window-gutter};
}

.flip-clock-line .flip-clock-window + .flip-clock-window {
    margin-left: $flip-clock-window-gutter;
}

/**
 * Viewmaster styles
 */

.flip-clock-window {
    border-radius: $flip-clock-border-radius;
    padding: $flip-clock-window-padding;
}

/* "highlighting" simulacrum */
.flip-clock-window {
    border-style: solid;
    border-width: 0 0 #{$flip-clock-window-border-width} 0;
    background-clip: padding-box;
    border-color: rgba(0, 0, 0, 0.5) transparent rgba(255, 255, 255, 0.125) transparent;
}

/**
 * Segment sizing and layout
 */

.flip-clock-segment + .flip-clock-segment {
    margin-left: $flip-clock-segment-gutter;
}

.flip-clock-segment.flip-clock-segment-twelve-hour .ampm {
    left: $segment-ampm-position-left;
    &.am {
        top: $segment-ampm-position-top;
    }
    &.pm {
        bottom: $segment-ampm-position-bottom;
    }
}

/**
 * Segment piece styles
 */

.flip-clock-segment-piece {
    background-color: $segment-background-color;
    @at-root html:not(.molasses) & {
        background-image: $segment-background-gradient;
    }
    color: $segment-foreground-color;
    border-radius: $segment-border-radius;
    padding-left: $segment-horizontal-padding;
    padding-right: $segment-horizontal-padding;
}

/* "highlighting" simulacrum */
.flip-clock-segment-piece {
    border-style: solid;
    border-width: #{$flip-clock-segment-highlight-width} 0 0 0;
    background-clip: padding-box;
    border-color: rgba(255, 255, 255, 0.25) transparent rgba(0, 0, 0, 0.5) transparent;
}

@if $segment-gradient-overlay != null {
    html:not(.molasses) .flip-clock-segment-piece::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: $segment-gradient-overlay;
    }
}
html.molasses {
    .flip-clock-segment-piece-top,
    .flip-clock-segment-piece-flip-top {
        &::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: black;
            opacity: $flip-clock-molasses-top-darken;
        }
    }
}

.flip-clock-segment.flip-clock-segment-twelve-hour {
    .flip-clock-segment-piece {
        width: calc(2.5ch);
        .numeric-value {
            left: 0.0625em;
        }
    }
}

.flip-clock-segment {
    @include flip-clock-segment-clip(
        $x: $flip-clock-cylinder-width,
        $y: $flip-clock-cylinder-height,
        $background-color: $segment-background-color,
        $background-image: linear-gradient(
            to bottom,
            rgba(white, 0.125),
            transparent,
            rgba(black, 0.5)
        ),
        $hsep: 2px
    );
}

.bottom-buttons {
    background-color: $bottom-buttons-background-color;
    background-image: none;
}
